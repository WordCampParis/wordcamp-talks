/*! wordcamp-talks - v1.3.1 - 2020-01-20 1:48:42 PM UTC - https://github.com/WordCampParis/wordcamp-talks */

!function(r){function e(t){var a,e=Number(wct_vars.rate_nb)+t;a=1===e?wct_vars.one_rate:0===e?wct_vars.not_rated:wct_vars.x_rate.replace("%",e),r(".rating-info").html("<a>"+a+"</a>")}wct_vars.canonical&&window.history.replaceState&&window.history.replaceState(null,null,wct_vars.canonical+window.location.hash),void 0!==wct_vars.raty_loaded&&(e(0),r("div#rate").raty({cancel:!1,half:!1,halfShow:!0,starType:"i",readOnly:wct_vars.readonly,score:wct_vars.average_rate,targetKeep:!1,noRatedMsg:wct_vars.not_rated,hints:wct_vars.hints,number:wct_vars.hints_nb,click:function(t){wct_vars.can_rate&&(r.fn.raty("readOnly",!0,"#rate"),function(t){r(".rating-info").html(wct_vars.wait_msg);var a={action:"wct_rate",rate:t,wpnonce:wct_vars.wpnonce,talk:r("#rate").data("talk")};r.post(wct_vars.ajaxurl,a,function(t){t&&0<t?r(".rating-info").html(wct_vars.success_msg+" "+t).fadeOut(2e3,function(){e(1),r(this).show()}):(r(".rating-info").html(wct_vars.error_msg),r.fn.raty("readOnly",!1,"#rate"))})}(t))}})),r("#wordcamp-talks-form ul.category-list").on("click",":checkbox",function(e){r.each(r(e.delegateTarget).find(":checked"),function(t,a){r(a).prop("id")!==r(e.target).prop("id")&&r(a).prop("checked",!1)})}),void 0!==wct_vars.tagging_loaded&&(r("#_wct_the_tags").tagging({"tags-input-name":"wct[_the_tags]","edit-on-delete":!1,"tag-char":"","forbidden-chars":[".","_","?","<",">"],"forbidden-words":["&lt;","&gt;"],"no-duplicate-text":wct_vars.duplicate_tag,"forbidden-chars-text":wct_vars.forbidden_chars,"forbidden-words-text":wct_vars.forbidden_words}),r("#_wct_the_title").focus(),r("#wct_most_used_tags .tag-items a").on("click",function(t){t.preventDefault(),r("#_wct_the_tags").tagging("add",r(this).html())}),r("#wordcamp-talks-form").on("reset",function(){r("#_wct_the_tags").tagging("reset")})),"undefined"!=typeof wp&&void 0!==wp.heartbeat&&void 0!==wct_vars.pulse&&(wp.heartbeat.interval(wct_vars.pulse),r.fn.extend({"heartbeat-send":function(){return this.bind("heartbeat-send.wc_talks")}})),r(document).on("heartbeat-send.wc_talks",function(t,a){a.wc_talks_heartbeat_current_talk=wct_vars.talk_id}),r(document).on("heartbeat-tick",function(t,a){a.wc_talks_heartbeat_response&&(r("#wordcamp-talks .message").length?(r("#wordcamp-talks .message").removeClass("error").addClass("info"),r("#wordcamp-talks .message p").html(wct_vars.warning)):r("#wordcamp-talks").prepend('<div class="message info"><p>'+wct_vars.warning+"</p></div>"),r('#wordcamp-talks .submit input[name="wct[save]"]').remove())})}(jQuery);